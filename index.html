<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ガチャ報酬ゲーム</title>
  <link rel="stylesheet" href="./style.css" />
  <link rel="icon" href="./favicon.ico" type="image/x-icon" />
</head>
<body>
  <div class="container">
    <h1>🎰 <span>ガチャ報酬ゲーム</span></h1>

    <!-- チケット操作 -->
    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
      <button id="drawButton">抽選する</button>
      <span id="ticketCountDisplay">🎫 残りチケット: 0</span>
      <input type="number" id="ticketInput" placeholder="±枚数" style="width: 80px;" />
      <button id="addTicketBtn">追加/減算</button>
    </div>

    <!-- ガチャ結果 -->
    <div class="gacha-slot" id="gachaSlot"></div>

    <!-- 所持アイテム -->
    <h2>🎒 所持アイテム</h2>
    <div id="inventory" class="inventory-list"></div>
    <div style="margin-top: 1rem;">
      <button id="resetBtn">🗑 リセット</button>
    </div>

    <!-- 統計表示 -->
    <h2>📊 ガチャ統計</h2>
    <button id="showStatsBtn">📈 ガチャ履歴を見る</button>
    <div id="historyStats" style="margin-top: 1rem;"></div>
    <canvas id="historyChart" width="800" height="300" style="margin-top: 1rem;"></canvas>

    <!-- 報酬一覧 -->
    <h2>🎁 報酬と確率一覧</h2>
    <table id="rewardTable">
      <thead>
        <tr><th>報酬</th><th>当選確率（%）</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- 効果音 -->
  <audio id="seClick" src="./sounds/click.mp3"></audio>
  <audio id="seSpin" src="./sounds/spin.mp3"></audio>
  <audio id="seRare" src="./sounds/rare.mp3"></audio>
  <!-- 超レアBGM -->
  <audio id="seRareEvent" src="./sounds/rare_event.mp3"></audio>

  <script type="module" src="./script.js"></script>
</body>
</html>
